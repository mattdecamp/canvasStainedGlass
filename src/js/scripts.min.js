const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),shapes=document.getElementById("shapes"),sizeInput=document.getElementById("size");let size=100;const color=document.getElementById("color"),stroke=document.getElementById("stroke"),rotationInput=document.getElementById("rotation");let rotation=0;function drawRect(e){var rectHeight=1.7*size,rectWidth=rectHeight+.5*rectHeight,x=e.clientX-rectWidth/2,y=e.clientY-rectHeight/2;ctx.beginPath(),ctx.translate(e.clientX,e.clientY),ctx.rotate(rotation*Math.PI/180),ctx.translate(-e.clientX,-e.clientY),ctx.rect(x,y,rectWidth,rectHeight),ctx.stroke(),ctx.fill()}function drawSquare(e){var sqSize=1.7*size,x=e.clientX-sqSize/2,y=e.clientY-sqSize/2;ctx.beginPath(),ctx.translate(e.clientX,e.clientY),ctx.rotate(rotation*Math.PI/180),ctx.translate(-e.clientX,-e.clientY),ctx.rect(x,y,sqSize,sqSize),ctx.stroke(),ctx.fill()}function drawCircle(e){ctx.beginPath(),ctx.translate(e.clientX,e.clientY),ctx.rotate(rotation*Math.PI/180),ctx.translate(-e.clientX,-e.clientY),ctx.arc(e.clientX,e.clientY,.85*size,0,2*Math.PI),ctx.stroke(),ctx.fill()}function drawEllipse(e){var ellipseRadiusX=size/2,ellipseRadiusY=size/2+.5*size,ellipseEndAngle=2*Math.PI;ctx.beginPath(),ctx.translate(e.clientX,e.clientY),ctx.rotate(rotation*Math.PI/180),ctx.translate(-e.clientX,-e.clientY),ctx.ellipse(e.clientX,e.clientY,ellipseRadiusX,ellipseRadiusY,0,0,ellipseEndAngle),ctx.stroke(),ctx.fill()}function drawTrapezoid(e){var rectWidth=2*size,rectHeight=2*size*(2/3),x=e.clientX-14,y=e.clientY;ctx.beginPath(),ctx.moveTo(x,y),ctx.translate(e.clientX,e.clientY),ctx.rotate(rotation*Math.PI/180),ctx.translate(-e.clientX,-e.clientY),ctx.lineTo(x+rectWidth/2,y-rectHeight/2),ctx.lineTo(x+rectWidth/1.3,y+rectHeight/2),ctx.lineTo(x-rectWidth/2,y+rectHeight/2),ctx.lineTo(x-rectWidth/4,y-rectHeight/2),ctx.lineTo(x+rectWidth/2,y-rectHeight/2),ctx.stroke(),ctx.fill()}function drawRhombus(e){var rhombusW=size,rhombusH=2*size,x=e.clientX,y=e.clientY;ctx.beginPath(),ctx.moveTo(x,y),ctx.translate(e.clientX,e.clientY),ctx.rotate(rotation*Math.PI/180),ctx.translate(-e.clientX,-e.clientY),ctx.lineTo(x,y-rhombusH/2),ctx.lineTo(x+rhombusW/2,y),ctx.lineTo(x,y+rhombusH/2),ctx.lineTo(x-rhombusW/2,y),ctx.lineTo(x,y-rhombusH/2),ctx.stroke(),ctx.fill()}function drawPolygon(x,y,sides){console.log(x,y),ctx.beginPath(),ctx.translate(x,y),ctx.rotate(rotation*Math.PI/180),ctx.translate(-x,-y),ctx.moveTo(x+size*Math.cos(0),y+size*Math.sin(0));for(let i=1;i<=sides;i+=1)ctx.lineTo(x+size*Math.cos(2*i*Math.PI/sides),y+size*Math.sin(2*i*Math.PI/sides)),ctx.stroke(),ctx.fill()}function drawTriangle(e){drawPolygon(e.clientX,e.clientY,3)}function drawPentagon(e){drawPolygon(e.clientX,e.clientY,5)}function drawHexagon(e){drawPolygon(e.clientX,e.clientY,6)}function drawHeptagon(e){drawPolygon(e.clientX,e.clientY,7)}function drawOctagon(e){drawPolygon(e.clientX,e.clientY,8)}function drawShape(e){("triangle"===shapes.value?drawTriangle:"square"===shapes.value?drawSquare:"rectangle"===shapes.value?drawRect:"circle"===shapes.value?drawCircle:"ellipse"===shapes.value?drawEllipse:"pentagon"===shapes.value?drawPentagon:"hexagon"===shapes.value?drawHexagon:"heptagon"===shapes.value?drawHeptagon:"octagon"===shapes.value?drawOctagon:"rhombus"===shapes.value?drawRhombus:drawTrapezoid)(e),ctx.setTransform(1,0,0,1,0,0)}canvas.width=document.documentElement.clientWidth,canvas.height=document.documentElement.clientHeight,ctx.lineJoin="round",ctx.lineCap="round",ctx.lineWidth=20,ctx.strokeStyle="darkgrey",ctx.fillStyle="dodgerblue",canvas.addEventListener("click",drawShape),canvas.addEventListener("dblclick",()=>{ctx.clearRect(0,0,canvas.width,canvas.height)}),color.addEventListener("change",()=>{ctx.fillStyle=color.value}),stroke.addEventListener("input",()=>{ctx.lineWidth=stroke.value}),sizeInput.addEventListener("input",()=>{console.log(sizeInput.value),size=sizeInput.value}),rotationInput.addEventListener("input",()=>{console.log(rotationInput.value),rotation=rotationInput.value,console.log(rotation)});